<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:MetroExplorer.Components.Navigator" 
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    mc:Ignorable="d">
	<ItemsPanelTemplate x:Key="NavigatorItemsPanelTemplate">
		<StackPanel Orientation="Horizontal"/>
	</ItemsPanelTemplate>
	<ControlTemplate x:Key="NavigatorButtonControlTemplate" TargetType="Button">
		<Grid>
			<VisualStateManager.VisualStateGroups>
				<VisualStateGroup x:Name="CommonStates">
					<VisualState x:Name="Pressed">
						<Storyboard>
							<ColorAnimation Duration="0" To="#FF831414" Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)" Storyboard.TargetName="border" d:IsOptimized="True"/>
						</Storyboard>
					</VisualState>
					<VisualState x:Name="Disabled"/>
					<VisualState x:Name="PointerOver"/>
				</VisualStateGroup>
				<VisualStateGroup x:Name="FocusStates">
					<VisualState x:Name="Focused"/>
					<VisualState x:Name="PointerFocused"/>
				</VisualStateGroup>
			</VisualStateManager.VisualStateGroups>
			<Border x:Name="border" Background="#FFDC3131" BorderThickness="0" Height="60">
				<TextBlock TextWrapping="Wrap" Text="{TemplateBinding Content}" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="5,2"/>
			</Border>
		</Grid>
	</ControlTemplate>
	<DataTemplate x:Key="NavigatorDataTemplate">
		<Button x:Name="ButtonNode" Content="{Binding NodeName}" Template="{StaticResource NavigatorButtonControlTemplate}" Margin="2,0" BorderThickness="0" Command="{Binding NodeAction}" CommandParameter="{Binding NodeName}"/>
	</DataTemplate>

    <Style TargetType="local:Navigator">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="local:Navigator">
                	<ScrollViewer x:Name="NavigatorScrollViewer" HorizontalAlignment="Left" Margin="0" Height="{TemplateBinding Height}" Width="{TemplateBinding Width}" VerticalScrollBarVisibility="Hidden">
                		<StackPanel x:Name="NavigatorItemStack" Orientation="Horizontal">
                			<ItemsPresenter/>
                		</StackPanel>
                	</ScrollViewer>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Width" Value="500"/>
        <Setter Property="Height" Value="80"/>
        <Setter Property="ItemsPanel" Value="{StaticResource NavigatorItemsPanelTemplate}"/>
        <Setter Property="ItemTemplate" Value="{StaticResource NavigatorDataTemplate}"/>
    </Style>
</ResourceDictionary>

